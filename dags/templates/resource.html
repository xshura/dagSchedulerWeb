<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin</title>
    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="http://placehold.it/64.png/000/fff">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="http://placehold.it/144.png/000/fff">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="http://placehold.it/114.png/000/fff">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="http://placehold.it/72.png/000/fff">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="http://placehold.it/57.png/000/fff">
    <!-- Styles -->
    <link href="../statics/assets/fontAwesome/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="../statics/assets/css/lib/themify-icons.css" rel="stylesheet">
    <link href="../statics/assets/css/lib/mmc-chat.css" rel="stylesheet" />
    <link href="../statics/assets/css/lib/sidebar.css" rel="stylesheet">
    <link href="../statics/assets/css/lib/bootstrap.min.css" rel="stylesheet">
    <link href="../statics/assets/css/lib/nixon.css" rel="stylesheet">
    <link href="../statics/assets/lib/lobipanel/css/lobipanel.min.css" rel="stylesheet">
    <link href="../statics/assets/css/style.css" rel="stylesheet">
</head>

<body>
    <div class="sidebar sidebar-hide-to-small sidebar-shrink sidebar-gestures">
        <div class="nano has-scrollbar">
            <div class="nano-content" tabindex="0" style="right: -12px;">
                <ul>
                    <li class="active">
                        <a href="/index"><i class="ti-home"></i> Admin Home <span class="sidebar-collapse-icon ti-angle-down"></span></a>
                    </li>
                    <li><a href="/dag_add"><i class="ti-layout-grid2-alt"></i> DAGs Import </a></li>
                    <li><a href="/dag"><i class="ti-layout-grid2-alt"></i> DAGs Manage </a></li>
                    <li><a href="/resource"><i class="ti-layout-grid2-alt"></i> Resource Manage</a></li>
<!--                    <li>-->
<!--                        <a class="sidebar-sub-toggle"><i class="ti-bar-chart-alt"></i>  Charts  <span class="sidebar-collapse-icon ti-angle-down"></span></a>-->
<!--                        <ul>-->
<!--                            <li><a href="chart-flot.html">Flot</a></li>-->
<!--                        </ul>-->
<!--                    </li>-->
                    <li><a href="/show"><i class="ti-view-list-alt"></i> DAGs Scheduler </a></li>
                    <li><a target="_blank" href="#"><i class="ti-file"></i> Documentation</a></li>
                </ul>
            </div>
        <div class="nano-pane" style="display: none;"><div class="nano-slider" style="height: 1030px; transform: translate(0px, 0px);"></div></div></div>
    </div>
    <div class="header">
        <div class="pull-left">
            <div class="logo">
                <a href="admin.html">
                    <img id="logoImg" src="../statics/logo/logo.png" data-logo_big="../statics/logo/logo.png" data-logo_small="../statics/logo/logoSmall.png" alt="Nixon">
                </a>
            </div>
            <div class="hamburger sidebar-toggle">
                <span class="ti-menu"></span>
            </div>
        </div>
        <div class="pull-right p-r-15">
            <ul>
                <li class="header-icon dib">
                    <i class="ti-bell"></i>
                    <div class="note-count">2</div>
                    <div class="drop-down">
                        <div class="dropdown-content-heading">
                            <span class="text-left">Recent Notifications</span>
                        </div>
                        <div class="dropdown-content-body">
                            <ul>
                                <li>
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/3.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">Mr. XSHURA</div>
                                            <div class="notification-text">5 members joined today </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/3.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">Mariam</div>
                                            <div class="notification-text">likes a photo of you</div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/3.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">Tasnim</div>
                                            <div class="notification-text">Hi Teddy, Just wanted to let you ...</div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/3.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">XSHURA</div>
                                            <div class="notification-text">Hi Teddy, Just wanted to let you ...</div>
                                        </div>
                                    </a>
                                </li>
                                <li class="text-center">
                                    <a href="#" class="more-link">See All</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li class="header-icon dib">
                    <i class="ti-email"></i>
                    <div class="note-count">21</div>
                    <div class="drop-down">
                        <div class="dropdown-content-heading">
                            <span class="text-left">2 New Messages</span>
                            <a href="app-email.html"><i class="ti-pencil-alt pull-right"></i></a>
                        </div>
                        <div class="dropdown-content-body">
                            <ul>
                                <li class="notification-unread">
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/1.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">XSHURA</div>
                                            <div class="notification-text">Hi Teddy, Just wanted to let you ...</div>
                                        </div>
                                    </a>
                                </li>
                                <li class="notification-unread">
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/2.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">XSHURA </div>
                                            <div class="notification-text">Hi Teddy, Just wanted to let you ...</div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/3.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">XSHURA </div>
                                            <div class="notification-text">Hi Teddy, Just wanted to let you ...</div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="pull-left m-r-10 avatar-img" src="assets/images/avatar/2.jpg" alt="">
                                        <div class="notification-content">
                                            <small class="notification-timestamp pull-right">02:34 PM</small>
                                            <div class="notification-heading">XSHURA</div>
                                            <div class="notification-text">Hi Teddy, Just wanted to let you ...</div>
                                        </div>
                                    </a>
                                </li>
                                <li class="text-center">
                                    <a href="#" class="more-link">See All</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <li class="header-icon dib chat-sidebar-icon"><i class="ti-comments"></i></li>
                <li class="header-icon dib">
                    <img class="avatar-img" src="assets/images/avatar/1.jpg" alt=""> <span class="user-avatar">XSHURA <i class="ti-angle-down f-s-10"></i></span>
                    <div class="drop-down dropdown-profile">
                        <div class="dropdown-content-heading">
                            <span class="text-left">Upgrade Now</span>
                            <p class="trial-day">30 Days Trail</p>
                        </div>
                        <div class="dropdown-content-body">
                            <ul>
                                <li><a href="#"><i class="ti-user"></i> <span>Profile</span></a></li>
                                <li><a href="#"><i class="ti-wallet"></i> <span>My Balance</span></a></li>
                                <li><a href="#"><i class="ti-write"></i> <span>My Task</span></a></li>
                                <li><a href="#"><i class="ti-calendar"></i> <span>My Calender</span></a></li>
                                <li><a href="#"><i class="ti-email"></i> <span>Inbox</span></a></li>
                                <li><a href="#"><i class="ti-settings"></i> <span>Setting</span></a></li>
                                <li><a href="#"><i class="ti-help-alt"></i> <span>Help</span></a></li>
                                <li><a href="#"><i class="ti-lock"></i> <span>Lock Screen</span></a></li>
                                <li><a href="#"><i class="ti-power-off"></i> <span>Logout</span></a></li>
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div class="chat-sidebar">
        <!-- BEGIN chat -->
        <div id="mmc-chat" class="color-default">
            <!-- BEGIN CHAT BOX -->
            <div class="chat-box">
                <!-- BEGIN CHAT BOXS -->
                <ul class="boxs"></ul>
                <!-- END CHAT BOXS -->
                <div class="icons-set">
                    <div class="stickers">
                        <div class="had-container">
                            <div class="row">
                                <div class="s12">
                                    <ul class="tabs" style="width: 100%;height: 60px;">
                                        <li class="tab col s3">
                                            <a href="#tab1" class="active">
                                                <img src="assets/images/1.png" alt="">
                                            </a>
                                        </li>
                                        <li class="tab col s3"><a href="#tab2">Test 2</a></li>
                                    </ul>
                                </div>
                                <div id="tab1" class="s12 tab-content">
                                    <ul>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                        <li><img src="assets/images/1.png" alt=""></li>
                                    </ul>
                                </div>
                                <div id="tab2" class="s12 tab-content">Test 2</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END CHAT BOX -->
            <!-- BEGIN SIDEBAR -->
            <div id="sidebar" class="right scroll">
                <div class="had-container">
                    <!-- BEGIN USERS -->
                    <div class="users">
                        <ul class="user-list">
                            <!-- BEGIN USER-->
                            <li class="user-tooltip" data-id="1" data-status="online" data-username="Rufat Askerov" data-position="left" data-filter-item="" data-filter-name="rufat askerov">
                                <!-- BEGIN USER IMAGE-->
                                <div class="user-image">
                                    <img src="assets/images/avatar/1.jpg" class="avatar" alt="Rufat Askerov">
                                </div>
                                <!-- END USER IMAGE-->
                                <!-- BEGIN USERNAME-->
                                <span class="user-name">Rufat Askerov</span>
                                <span class="user-show"></span>
                                <!-- END USERNAME-->
                            </li>
                            <!-- END USER-->
                            <!-- BEGIN USER-->
                            <li class="user-tooltip" data-id="3" data-status="online" data-username="Alice" data-position="left" data-filter-item="" data-filter-name="alice">
                                <div class="user-image">
                                    <img src="assets/images/avatar/1.jpg" class="avatar" alt="Alice">
                                </div>
                                <span class="user-name">Alice</span>
                                <span class="user-show"></span>
                            </li>
                            <!-- BEGIN USER-->
                            <li class="user-tooltip" data-id="7" data-status="offline" data-username="Michael Scofield" data-position="left" data-filter-item="" data-filter-name="michael scofield">
                                <div class="user-image">
                                    <img src="assets/images/avatar/1.jpg" class="avatar" alt="Michael Scofield">
                                </div>
                                <span class="user-name">Michael Scofield</span>
                                <span class="user-show"></span>
                            </li>
                            <!-- BEGIN USER-->
                            <li class="user-tooltip" data-id="5" data-status="online" data-username="Irina Shayk" data-position="left" data-filter-item="" data-filter-name="irina shayk">
                                <div class="user-image">
                                    <img src="assets/images/avatar/1.jpg" class="avatar" alt="Irina Shayk">
                                </div>
                                <span class="user-name">Irina Shayk</span>
                                <span class="user-show"></span>
                            </li>
                            <!-- BEGIN USER-->
                            <li class="user-tooltip" data-id="6" data-status="offline" data-username="Sara Tancredi" data-position="left" data-filter-item="" data-filter-name="sara tancredi">
                                <div class="user-image">
                                    <img src="assets/images/avatar/1.jpg" class="avatar" alt="Sara Tancredi">
                                </div>
                                <span class="user-name">Sara Tancredi</span>
                                <span class="user-show"></span>
                            </li>
                            <!-- BEGIN USER-->
                            <li class="user-tooltip" data-id="7" data-status="offline" data-username="XSHURA" data-position="left" data-filter-item="" data-filter-name="XSHURA">
                                <div class="user-image">
                                    <img src="assets/images/avatar/1.jpg" class="avatar" alt="XSHURA">
                                </div>
                                <span class="user-name">XSHURA</span>
                                <span class="user-show"></span>
                            </li>
                        </ul>
                        <div class="chat-user-search">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="ti-search"></i></span>
                                <input type="text" class="form-control" placeholder="Search" data-search="">
                            </div>
                        </div>
                    </div>
                    <!-- END USERS -->
                </div>
            </div>
            <!-- END SIDEBAR -->
        </div>
        <!-- END chat -->
    </div>
    <!-- END chat Sidebar-->
    <div class="content-wrap">
        <div class="main">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-8 p-0">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Resource</h1>
                            </div>
                        </div>
                    </div>
                    <!-- /# column -->
                    <div class="col-lg-4 p-0">
                        <div class="page-header">
                            <div class="page-title">
                                <ol class="breadcrumb text-right">
                                    <li><a href="#">Admin</a></li>
                                    <li class="active">Home</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    <!-- /# column -->
                </div>
                <!-- /# row -->
                <div class="main-content">
                    <!-- /# row -->
                    <div class="row">
                        <!-- /# column -->
                        <div class="col-lg-12">
                            <div class="card alert">
                                <div class="card-header">
                                    <h4>Resource List</h4>
									<div class="card-header-right-icon">
										<ul>
											<li class="card-close" data-dismiss="alert"><i class="ti-close"></i></li>
                                            <!--右上角配置-->
										</ul>
									</div>
                                    <li class="card-header-right-icon" ><span class="badge badge-success" data-toggle="modal" data-target="#myModal">新增</span></li>
                                </div>
                                <div class="card-body">
                                    <table class="table table-responsive table-striped">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>NAME</th>
                                                <th>TYPE</th>
                                                <th>HETEROGENEOUS</th>
                                                <th>ROOM</th>
                                                <th>STATUS</th>
                                                <th>OCCUPY TASK</th>
                                                <th>OPERATION</th>
                                            </tr>
                                        </thead>
                                        <tbody >
                                            {% for res in resource_list %}
                                            <tr data-id={{res.id}}>
                                                <th scope="row">{{res.id}}</th>
                                                <td>{{res.name}}</td>
                                                <td>{{res.resource_type}}</td>
                                                <td>{{res.heterogeneous}}</td>
                                                <td>{{res.room_id}}-{{res.room_name}}</td>
                                                <td class="color-primary">{{res.status}}</td>
                                                <td class="color-primary">{{res.task_id}}</td>
                                                <td><a data-target="#myEditModal" class="edit badge badge-primary" id="edit">编辑</a>  <a href="/resource/delete/{{res.id}}" class="badge badge-danger">删除</a></td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /# column -->
                    </div>
                    <!-- /# row -->
             <!-- /# column -->
         </div>
         <!-- /# row -->     </div>
 </div>
 <!-- /# container-fluid -->
</div>
    <div class="card alert modal" style="width:800px;margin:250px auto;" id="myModal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
        <div class="modal-dialog" style="top:40%">
        <div class="card-header">
            <h4>Add New Resource</h4>
            <div class="card-header-right-icon">
                <ul>
                    <li class="card-close" data-dismiss="modal"><span aria-hidden="true"><i class="ti-close"></i></span></li>
                </ul>
            </div>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form action="/resource/add_res/" method="post">
                    <div class="form-group">
                        <label>Name</label>
                        <input class="form-control" name="name">
                    </div>
                    <div class="form-group">
                        <label>Resource type</label>
                        <input class="form-control" name="type">
                    </div>
                    <div class="form-group">
                        <label>Heterogeneous</label>
                        <input class="form-control" name="heterogeneous">
                    </div>
                    <div class="form-group">
                        <label>Room</label>
                        <input class="form-control" name="room_id">
                    </div>
<!--                    <div class="form-group">-->
<!--                        <label>Input Select</label>-->
<!--                        <select class="form-control">-->
<!--                            <option>1</option>-->
<!--                            <option>2</option>-->
<!--                            <option>3</option>-->
<!--                            <option>4</option>-->
<!--                            <option>5</option>-->
<!--                        </select>-->
<!--                    </div>-->
                    <button type="submit" class="btn btn-default">Submit</button>
                </form>
            </div>
        </div>
        </div>
    </div>

    <div class="card alert modal" style="width:800px;margin:250px auto;" id="myEditModal" tabindex="-1" role="dialog" aria-hidden="true" style="display: none;">
        <div class="modal-dialog" style="top:40%">
        <div class="card-header">
            <h4>Edit Resource</h4>
            <div class="card-header-right-icon">
                <ul>
                    <li class="card-close" data-dismiss="modal"><span aria-hidden="true"><i class="ti-close"></i></span></li>
                </ul>
            </div>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form action="/resource/edit/" method="post">
                    <div class="form-group">
                        <label>Name</label>
                        <input class="form-control" id="edit_id" name="id" type="hidden">
                        <input class="form-control" id="edit_name" name="name">
                    </div>
                    <div class="form-group">
                        <label>Resource type</label>
                        <input class="form-control" id="edit_type" name="type">
                    </div>
                    <div class="form-group">
                        <label>Heterogeneous</label>
                        <input class="form-control" id="edit_heterogeneous" name="heterogeneous">
                    </div>
                    <div class="form-group">
                        <label>Room</label>
                        <input class="form-control" id="edit_room_id" name="room_id">
                    </div>
<!--                    <div class="form-group">-->
<!--                        <label>Input Select</label>-->
<!--                        <select class="form-control">-->
<!--                            <option>1</option>-->
<!--                            <option>2</option>-->
<!--                            <option>3</option>-->
<!--                            <option>4</option>-->
<!--                            <option>5</option>-->
<!--                        </select>-->
<!--                    </div>-->
                    <button type="submit" class="btn btn-default">Submit</button>
                </form>
            </div>
        </div>
        </div>
    </div>
<!-- /# main -->
</div>
<!-- /# content wrap -->
<script src="../statics/assets/js/lib/jquery.min.js"></script>
<!-- jquery vendor -->
<script src="../statics/assets/js/lib/jquery.nanoscroller.min.js"></script>
<!-- nano scroller -->
<script src="../statics/assets/js/lib/sidebar.js"></script>
<!-- sidebar -->
<script src="../statics/assets/js/lib/bootstrap.min.js"></script>
<!-- bootstrap -->
<script src="../statics/assets/js/lib/mmc-common.js"></script>
<script src="../statics/assets/js/lib/mmc-chat.js"></script>
<!--  Chart js -->
<script src="../statics/assets/js/lib/chart-js/Chart.bundle.js"></script>
<script src="../statics/assets/js/lib/chart-js/chartjs-init.js"></script>
<!-- // Chart js -->
<!--  Datamap -->
<script src="../statics/assets/js/lib/datamap/d3.min.js"></script>
<script src="../statics/assets/js/lib/datamap/topojson.js"></script>
<script src="../statics/assets/js/lib/datamap/datamaps.world.min.js"></script>
<script src="../statics/assets/js/lib/datamap/datamap-init.js"></script>
<script src="../statics/assets/lib/lobipanel/js/lobipanel.js"></script>
<!-- // Datamap -->
<script src="../statics/assets/js/scripts.js"></script>
<!-- scripit init-->
<script>
    $(document).ready(function() {
        $('#lobipanel-custom-control').lobiPanel({
            reload: false,
            close: false,
            editTitle: false
        });
    });
</script>
<script>
    $(".edit").on("click", function () {
        var obj = $(this).parents('tr');
        var id = obj.attr('data-id');
        $.ajax({
            url: "/resource/ajax_edit_get/",
            type: "GET",
            dateType:'json',
            data: {"id": id},
            success: function (data) {
                $("#edit_id").val(data["id"]);
                $("#edit_name").val(data["name"]);
                $("#edit_type").val(data["type"]);
                $("#edit_heterogeneous").val(data["heterogeneous"]);
                $("#edit_room_id").val(data["room_id"]);
                $('#myEditModal').modal('show');
            }
        })
    });
</script>
</body>

</html>